(function(window){var Url=window.Url={};function queryString(name,notDecoded){name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var regex=new RegExp("[\\?&]"+name+"=([^&#]*)");var results=regex.exec(location.search);var encoded=null;if(results===null){return""}else{encoded=results[1].replace(/\+/g," ");if(notDecoded){return encoded}return decodeURIComponent(encoded)}}function parseQuery(search){var query={};if(typeof search!=="string"){search=window.location.search}search=search.replace(/^\?/g,"");if(!search){return{}}var a=search.split("&");var b=null;var i=0;var iequ;for(;i<a.length;++i){iequ=a[i].indexOf("=");if(iequ<0)iequ=a[i].length;query[decodeURIComponent(a[i].slice(0,iequ))]=decodeURIComponent(a[i].slice(iequ+1))}return query}function stringify(queryObj){if(!queryObj||queryObj.constructor!==Object){throw new Error("Query object should be an object.")}var stringified="";Object.keys(queryObj).forEach(function(c){stringified+=c+"="+encodeURIComponent(queryObj[c])+"&"});stringified=stringified.replace(/\&$/g,"");return stringified}function updateSearchParam(param,value){var searchParsed=parseQuery();if(value===undefined){delete searchParsed[param]}else{value=encodeURIComponent(value);if(searchParsed[param]===value){return Url}searchParsed[param]=value}var newSearch="?"+stringify(searchParsed);window.history.replaceState(null,"",newSearch+location.hash);return Url}function getLocation(){return window.location.pathname+window.location.search+window.location.hash}Url.getLocation=getLocation;Url.updateSearchParam=updateSearchParam;Url.queryString=queryString;Url.parseQuery=parseQuery;Url.stringify=stringify;Url.version="1.1.0"})(window);